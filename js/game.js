!function(t){function e(e){for(var n,r,o=e[0],c=e[1],h=e[2],d=0,m=[];d<o.length;d++)r=o[d],i[r]&&m.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);m.length;)m.shift()();return a.push.apply(a,h||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={1:0},a=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var l=c;a.push([114,0]),s()}([,,,function(t,e,s){t.exports={task:"common__task___deMXY",empty:"common__empty___TjNJH",info:"common__info___3x517"}},,,,,,,,,,,,,,,,,,function(t,e,s){t.exports={correlate:"style__correlate___2vhm0",container:"style__container___2nwKP",targetContainer:"style__targetContainer___2dUdY",targetDroppable:"style__targetDroppable___3G4NT"}},function(t,e,s){t.exports={droppable:"style__droppable___XXMpZ",gorizontal:"style__gorizontal___3s9Iy",vertical:"style__vertical___28zi1",topPadding:"style__topPadding___2cvNE",title:"style__title___2hdbu",draggable:"style__draggable___2dWhk"}},,,,,,,,,,function(t,e,s){t.exports={image:"style__image___35D2r",gorizontal:"style__gorizontal___egSru",vertical:"style__vertical___zPx1s",repeat:"style__repeat___sRtfk"}},,,,function(t,e,s){t.exports={controls:"style__controls___3GkkY",active:"style__active___27n-y",music:"style__music___owY2c",sound:"style__sound___1Midg"}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){t.exports={timer:"style__timer___29tCn",finished:"style__finished___bKyW_"}},function(t,e,s){t.exports={spellChooser:"style__spellChooser___3ADO1",spell:"style__spell___1pI8z"}},,,,,,,,,,,,,,,,,function(t,e,s){t.exports=s.p+"config/sort.json"},function(t,e,s){t.exports=s.p+"config/statements.json"},function(t,e,s){t.exports=s.p+"config/countries.json"},function(t,e,s){t.exports=s.p+"config/quiz.json"},function(t,e,s){t.exports=s.p+"config/animals.json"},function(t,e,s){t.exports={itemSort:"style__itemSort___18QZ_"}},function(t,e,s){t.exports={itemChecker:"style__itemChecker___1aSxV"}},function(t,e,s){t.exports={letterChooser:"style__letterChooser___1iArs"}},function(t,e,s){t.exports=s.p+"config/russian.json"},,function(t,e,s){t.exports={sort:"style__sort___Ju1H2"}},function(t,e,s){t.exports=s.p+"config/english.json"},,function(t,e,s){t.exports={itemChooser:"style__itemChooser___HJQEC"}},function(t,e,s){t.exports={arithmetic:"style__arithmetic___3iezE"}},function(t,e,s){t.exports=s.p+"config/math.json"},function(t,e,s){t.exports=s.p+"audio/wizard_spell_2.mp3"},function(t,e,s){t.exports=s.p+"audio/wizard_spell_1.mp3"},function(t,e,s){t.exports=s.p+"audio/wizard_spell_0.mp3"},function(t,e,s){t.exports=s.p+"audio/monster_spell.mp3"},function(t,e,s){t.exports=s.p+"images/spell.png"},function(t,e,s){t.exports=s.p+"config/monsterStates.json"},function(t,e,s){t.exports=s.p+"config/monsterNames.json"},function(t,e,s){t.exports=s.p+"audio/monster_attack.mp3"},function(t,e,s){t.exports=s.p+"audio/monster_hurt.mp3"},function(t,e,s){t.exports=s.p+"config/playerStates.json"},function(t,e,s){t.exports=s.p+"audio/player_hurt.mp3"},function(t,e,s){t.exports=s.p+"images/player.png"},function(t,e,s){t.exports=s.p+"images/hp_bg.png"},function(t,e,s){t.exports=s.p+"images/hp.png"},function(t,e,s){t.exports={welcome:"style__welcome___5ZYjz"}},function(t,e,s){t.exports={nextRound:"style__nextRound___YqphP"}},function(t,e,s){t.exports={info:"style__info___Bo2G_"}},function(t,e,s){t.exports={leaderboard:"style__leaderboard___28mRX"}},function(t,e,s){t.exports=s.p+"images/up.png"},function(t,e,s){t.exports=s.p+"audio/music.mp3"},function(t,e,s){"use strict";s.r(e);s(77),s(76),s(229);class n{constructor(){this.musicIsPlaying=!1,this.soundIsMuted=!1,this.isStarted=!1,this.currentRound=1,this.leaderboard=null}saveScore(t){const e={playerName:t,result:this.currentRound-1};this.leaderboard.push(e),this.leaderboard.sort((t,e)=>e.result-t.result),this.leaderboard.splice(10)}}var i=s(113),a=s.n(i),r=s(112),o=s.n(r),c=s(0),h=s.n(c),l=s(5),d=s.n(l),m=s(111),u=s.n(m);function p(t){return h.a.createElement("div",{className:u.a.leaderboard},h.a.createElement("p",null,"Увы! В этот раз силы зла одержали победу..."),h.a.createElement("p",null,"Ты храбро сражался, ",t.playerName,"!"),h.a.createElement("p",null,"Тебе удалось одолеть ",t.result," противник",(t=>{const e=String(t);if("1"===e[e.length-1])return!0})(t.result)?"а":"ов","."),h.a.createElement("h2",null,"Лучшие воины света:"),h.a.createElement("ol",null,t.leaderboard.map((t,e)=>h.a.createElement("li",{key:e},t.playerName,": ",t.result))),h.a.createElement("button",{onClick:t.chlickHandler},"Начать еще раз"))}var g=s(110),w=s.n(g);function f(t){const e=t.right?"Правильно!":"Упс! Неверно...",s=t.bonus?"Молодец! Не давай врагу опомниться!":"";return h.a.createElement("div",{className:w.a.info},h.a.createElement("h2",null,e),h.a.createElement("p",null,s))}var k=s(109),x=s.n(k);function _(t){return h.a.createElement("div",{className:x.a.nextRound},h.a.createElement("h2",null,"Так держать!"),h.a.createElement("p",null,"Твой следующий враг: ",t.enemyName),h.a.createElement("button",{onClick:t.clickHandler},"Вперед!"))}var v=s(108),y=s.n(v);class b extends h.a.Component{constructor(t){super(t),this.onClickStart=t.onClickStart,this.name=h.a.createRef(),this.clickHandler=this.clickHandler.bind(this)}render(){return h.a.createElement("form",{className:y.a.welcome},h.a.createElement("h1",null,"Готов к преключениям?"),h.a.createElement("label",null,"Назови свое имя, волшебник:",h.a.createElement("input",{type:"text",required:!0,maxLength:"15",ref:this.name})),h.a.createElement("input",{type:"submit",value:"Начнем!",className:"button",onClick:this.clickHandler}))}componentDidMount(){this.name.current.focus()}clickHandler(t){this.name.current.value=this.name.current.value.trim(),this.name.current.validity.valid&&(t.preventDefault(),this.onClickStart(this.name.current.value))}}var E=s(61),A=s.n(E);function S(t){return h.a.createElement("form",{className:A.a.spellChooser,method:"dialog"},h.a.createElement("h2",null,"Выбери заклинание:"),t.spells.map((t,e)=>h.a.createElement("button",{type:"submit",value:e,className:A.a.spell,key:t.id},t.name)))}var C=s(36),O=s.n(C);function I(t){const e=t=>e=>{e.target.classList.toggle("active"),t()};return h.a.createElement("div",{className:O.a.controls},h.a.createElement("button",{className:`${O.a.music}`,onClick:e(t.onClickMusic)}),h.a.createElement("button",{className:`${O.a.sound} active`,onClick:e(t.onClickSound)}),h.a.createElement("a",{className:"button",href:"./index.html",target:"_blank"}))}class N{constructor(){this.onClickStartButton=null,this.onClickMusicButton=null,this.onClickSoundButton=null,this.onClickNewGameButton=null,this.music=new Audio(a.a),this.canvas=null,this.context=null,this.up=new Image,this.container=null,this.spellsDialog=null}initialize(){this.initCanvas(),this.initMusic(),this.initControls(),this.up.src=o.a,this.container=document.querySelector("#container")}initControls(){d.a.render(h.a.createElement(I,{onClickMusic:this.onClickMusicButton,onClickSound:this.onClickSoundButton}),document.querySelector("#controls_wrapper"))}initCanvas(){this.canvas=document.querySelector("#scene"),this.context=this.canvas.getContext("2d"),this.context.shadowColor="rgb(0, 0, 0)"}initMusic(){this.music.volume=.1,this.music.loop=!0}initSpellsDialog(t){this.spellsDialog=document.querySelector("#spells_dialog"),d.a.render(h.a.createElement(S,{spells:t}),this.spellsDialog)}switchMusic(t){t?this.music.play():this.music.pause()}switchSound(t){this.music.muted=t}drawInfoBar(t){this.context.drawImage(this.up,0,0),this.drawRound(t)}drawRound(t){this.context.fillStyle="rgb(255, 255, 255)",this.context.font="bold 32pt Arial",this.context.textAlign="center",this.showTextShadow(!0),this.context.fillText(t,680,53),this.showTextShadow(!1)}showTextShadow(t){this.context.shadowOffsetX=t?1:0,this.context.shadowOffsetY=t?1:0,this.context.shadowBlur=t?1:0}clearContext(){this.context.clearRect(0,81,this.canvas.width,this.canvas.height)}showSpellsDialog(){return this.spellsDialog.showModal(),new Promise(t=>{this.spellsDialog.addEventListener("close",()=>t(this.spellsDialog.returnValue))})}showWelcome(t){t?d.a.render(h.a.createElement(b,{onClickStart:this.onClickStartButton}),this.container):this.hideContainer()}showAnswerResult(t,e){t?d.a.render(h.a.createElement(f,{right:e[0],bonus:e[1]}),this.container):this.hideContainer()}showNextRound(t,e){t?d.a.render(h.a.createElement(_,{enemyName:e.enemyName,clickHandler:e.clickHandler}),this.container):this.hideContainer()}showLeaderboard(t,e,s,n){t?d.a.render(h.a.createElement(p,{playerName:e,result:s,leaderboard:n,chlickHandler:this.onClickNewGameButton}),this.container):this.hideContainer()}hideContainer(){d.a.unmountComponentAtNode(this.container)}}class F{constructor(){this.model=null,this.view=null,this.finishAction=null}nextStep(){this.view.render(this.model.avatar,this.model.hp),this.view.currentFrame===this.model.activeFrame&&this.finishAction(),this.view.currentFrame===this.model.soundFrame&&this.view.playSound(this.model.state,this.model.stateVariant),this.view.currentFrame<this.model.numberOfFrames-1?this.view.currentFrame+=1:this.nextState()}nextState(){this.model.inDefaultState||(this.finishAction(),this.finishAction=null,this.model.setState("idle")),this.view.currentFrame=0}attack(t){return this.changeState("attack",t)}hurt(t){return this.model.hp-=t,this.model.hp>0?this.changeState("hurt"):this.changeState("die")}changeState(t,e){return this.view.currentFrame=0,this.model.setState(t,e),new Promise(e=>this.finishAction=(()=>e("die"===t)))}mute(t){this.view.muted=t}}class D{constructor(t){this.name=t,this.hp=500,this.avatar={},this.inDefaultState=!1,this.numberOfFrames=null,this.soundFrame=null,this.stateVariant=0,this.state=null}setState(t,e=0){const s=D.states[t];this.inDefaultState=s.default,this.avatar.start=s.start,this.avatar.width=s.width,this.avatar.height=s.height,this.numberOfFrames=s.numberOfFrames,this.stateVariant=e,this.soundFrame=s.soundFrame,this.state=t}}var R=s(107),M=s.n(R),T=s(106),j=s.n(T);class z{constructor(t,e){this.context=null,this.positionX=t,this.positionY=e,this.currentFrame=0,this.muted=!1,this.hp=new Image,this.hpBg=new Image,this.audio={}}initialize(t){this.initAvatar(),this.context=document.querySelector("#scene").getContext("2d"),this.hp.src=M.a,this.hpBg.src=j.a}drawName(t,e,s){this.context.fillStyle="rgb(255, 26, 0)",this.context.font="bold 18pt Arial",this.context.textAlign=e,this.showTextShadow(!0),this.context.fillText(t,s,29),this.showTextShadow(!1)}showTextShadow(t){this.context.shadowOffsetX=t?1:0,this.context.shadowOffsetY=t?1:0,this.context.shadowBlur=t?1:0}render(t,e){this.renderAvatar(t),this.renderInfoBar(e)}renderInfoBar(t,e){this.context.drawImage(this.hpBg,e,43,310,20),this.context.drawImage(this.hp,0,0,367*t/500,36,e+4,46,301*t/500,14)}playSound(t,e){this.audio[t]&&!this.muted&&this.audio[t][e].play()}}var L=s(105),B=s.n(L),P=s(104),V=s.n(P);class q extends z{constructor(t,e){super(t,e),this.avatar=null,this.audio.hurt=[new Audio(V.a)];const n=s(213);this.audio.attack=n.keys().map(t=>new Audio(n(t)))}initAvatar(){this.avatar=document.createElement("img"),this.avatar.src=B.a}drawName(t,e,s){super.drawName(t,"left",252)}renderAvatar(t){this.context.drawImage(this.avatar,this.currentFrame*t.width,t.start,t.width,t.height,this.positionX,this.positionY,t.width,t.height)}renderInfoBar(t){super.renderInfoBar(t,252)}}var H=s(103),W=s.n(H);class U extends F{async initialize(t){await this.loadConfig(),this.model=new D(t),this.model.setState("idle"),this.view=new q(250,220),this.view.initialize(),this.nextRound()}async loadConfig(){const t=await window.fetch(W.a);D.states=await t.json()}nextRound(){this.view.drawName(this.model.name)}getName(){return this.model.name}}class ${constructor(t){this.name=t,this.hp=500,this.avatar=null,this.inDefaultState=!1,this.numberOfFrames=null,this.soundFrame=null,this.activeFrame=null,this.state=null,this.stateVariant=0}setState(t,e=0){const s=$.states[t];this.state=t,this.inDefaultState=s.default,this.avatar=s.frames,this.numberOfFrames=s.numberOfFrames,this.soundFrame=s.soundFrame,this.activeFrame=s.activeFrame,this.stateVariant=e}}var X=s(102),Y=s.n(X),G=s(101),J=s.n(G);class Q extends z{constructor(t,e){super(t,e),this.head=new Image,this.body=new Image,this.arms=new Image,this.legs=new Image,this.audio.hurt=[new Audio(Y.a)],this.audio.attack=[new Audio(J.a)],this.assets={}}initAvatar(){const t=s(209);this.assets.head=t.keys().map(t);const e=s(202);this.assets.body=e.keys().map(e);const n=s(195);this.assets.arms=n.keys().map(n);const i=s(188);this.assets.legs=i.keys().map(i)}renderNextMonster(t){this.head.src=this.assets.head[t(this.assets.head.length)],this.body.src=this.assets.body[t(this.assets.body.length)],this.arms.src=this.assets.arms[t(this.assets.arms.length)],this.legs.src=this.assets.legs[t(this.assets.legs.length)]}drawName(t){super.drawName(t,"right",1113)}renderAvatar(t){const e=t[this.currentFrame];this.context.save(),this.context.translate(this.positionX,this.positionY),this.context.rotate(e.monsterRotate||0),this.renderLeftArm(e),this.renderLeftLeg(e),this.renderRightLeg(e),this.renderBody(e),this.renderRightArm(e),this.renderHead(e),this.context.restore()}renderLeftArm(t){this.context.save(),this.context.translate(-120,-180),this.context.rotate(t.leftArmRotate||0),this.context.drawImage(this.arms,91,0,300,300,4*(t.difX||0)-165,-25+(t.difY||0),300,300),this.context.restore()}renderLeftLeg(t){this.context.save(),this.context.translate(-95,-60),this.context.rotate(t.leftLegRotate||0),this.context.drawImage(this.legs,0,0,50,80,2*(t.difX||0),0,50,80),this.context.restore()}renderRightLeg(t){this.context.save(),this.context.translate(-55,-60),this.context.rotate(t.rightLegRotate||0),this.context.drawImage(this.legs,51,0,54,80,3*(t.difX||0),t.difY||0,54,80),this.context.restore()}renderBody(t){this.context.save(),this.context.translate(-30,230),this.context.rotate(t.bodyRotate||0),this.context.drawImage(this.body,-100,-460),this.context.restore()}renderRightArm(t){this.context.save(),this.context.translate(-20,-200),this.context.rotate(t.rightArmRotate||0),this.context.drawImage(this.arms,0,0,89,168,4*(t.difX||0),3*(t.difY||0),89,168),this.context.restore()}renderHead(t){this.context.save(),this.context.translate(20,-120),this.context.rotate(t.headRotate||0),this.context.drawImage(this.head,4*(t.difX||0)-150,-130),this.context.restore()}renderInfoBar(t){super.renderInfoBar(t,805)}}var K=s(100),Z=s.n(K),tt=s(99),et=s.n(tt);class st extends F{async initialize(){this.view=new Q(1020,480),this.view.initialize(),await this.loadConfig(),this.generateNextMonster()}async loadConfig(){const t=await window.fetch(Z.a);$.names=await t.json();const e=await window.fetch(et.a);$.states=await e.json()}generateNextMonster(){this.model=new $(this.generateName()),this.model.setState("idle"),this.view.renderNextMonster(this.getRandom),this.view.drawName(this.model.name)}getName(){return this.model.name}generateName(){const t=[$.names[0][this.getRandom($.names[0].length)],$.names[1][this.getRandom($.names[1].length)],$.names[2][this.getRandom($.names[2].length)]].join(" ");return t.length<25?t:this.generateName()}getRandom(t){return Math.floor(Math.random()*t)}}var nt=s(98),it=s.n(nt);class at{constructor(){this.context=null,this.image=new Image,this.dialog=null,this.dx=null,this.currentFrame=0,this.muted=!1}initialize(){this.image.src=it.a,this.context=document.querySelector("#scene").getContext("2d")}createNewSpell(t){this.dx=t.startDx,this.muted||t.sound.play()}render(t){this.context.drawImage(this.image,this.currentFrame*t.width,t.sy,t.width,t.height,this.dx,t.dy,t.width,t.height)}}var rt=s(97),ot=s.n(rt),ct=s(96),ht=s.n(ct),lt=s(95),dt=s.n(lt),mt=s(94),ut=s.n(mt),pt={monsterSpell:[{id:"ms_0",startDx:290,targetDx:290,sy:0,dy:300,numberOfFrames:6,sound:new Audio(ot.a),width:192,height:182,damage:50}],wizardSpell:[{name:"Сила света",id:"ws_0",startDx:450,targetDx:870,sy:565,dy:270,numberOfFrames:6,sound:new Audio(ht.a),width:200,height:182,damage:50},{name:"Атака духа",id:"ws_1",startDx:450,targetDx:850,sy:201,dy:270,numberOfFrames:5,sound:new Audio(dt.a),width:200,height:182,damage:50},{name:"Вакуум",id:"ws_2",startDx:450,targetDx:870,sy:383,dy:270,numberOfFrames:5,sound:new Audio(ut.a),width:200,height:182,damage:50}]};class gt{constructor(){this.view=null,this.model=null,this.finishAction=null,this.spellOnField=!1}initialize(){this.view=new at,this.view.initialize()}getWizardSpells(){return pt.wizardSpell}mute(t){this.view.muted=t}throwSpell(t,e){return this.spellOnField=!0,this.model=pt[t][e],this.view.createNewSpell(this.model),new Promise(t=>this.finishAction=t)}nextStep(){this.spellOnField&&(this.view.render(this.model),this.view.dx<this.model.targetDx?this.model.targetDx-this.view.dx>80?this.view.dx+=80:this.view.dx=this.model.targetDx:(this.view.currentFrame+=1,this.finishAction(this.model.damage),this.view.currentFrame===this.model.numberOfFrames&&(this.view.currentFrame=0,this.spellOnField=!1)))}}var wt=s(93),ft=s.n(wt),kt=s(60),xt=s.n(kt);class _t extends h.a.Component{constructor(t){super(t),this.state={time:t.initialValue},this.timerId=null,this.timer=h.a.createRef()}render(){return h.a.createElement("div",{className:xt.a.timer,ref:this.timer},this.state.time)}componentDidMount(){this.timerId=setInterval(this.tick.bind(this),1e3)}componentWillUnmount(){clearInterval(this.timerId)}tick(){this.setState({time:this.state.time-1}),0===this.state.time&&(clearInterval(this.timerId),this.timer.current.classList.add(xt.a.finished))}}var vt=s(3),yt=s.n(vt),bt=s(92),Et=s.n(bt);class At extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.answer=h.a.createRef(),this.timer=h.a.createRef(),this.onAnswer=this.onAnswer.bind(this),this.checkAnswer=this.checkAnswer.bind(this,t.expected)}render(){const{time:t,title:e,task:s}=this.props;return h.a.createElement("form",{className:yt.a.task},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("div",{className:Et.a.arithmetic},s.map(t=>null!==t.content?h.a.createElement("span",{key:t.id},t.content):h.a.createElement("input",{type:"number",ref:this.answer,required:"true",key:t.id}))),h.a.createElement("button",{onClick:this.onAnswer},"Ответить"))}componentDidMount(){this.answer=this.answer.current,this.answer.focus()}onAnswer(t){if(!this.answer.validity.valid)return;t.preventDefault();const e=this.timer.current.state.time;this.checkFn(this.checkAnswer(this.answer.value),e>0)}checkAnswer(t,e){if(parseInt(e,10)===t)return!0}}var St=s(91),Ct=s.n(St);class Ot extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.timer=h.a.createRef(),this.checkAnswer=this.checkAnswer.bind(this,t.expected)}render(){const{time:t,title:e,info:s}=this.props;return h.a.createElement("form",{className:yt.a.task},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("p",{className:s?yt.a.info:yt.a.empty},s),h.a.createElement("div",{className:Ct.a.itemChooser},this.props.task.map(t=>h.a.createElement("button",{onClick:this.onChooseItem(t.content),key:t.id,title:t.content},t.content))))}onChooseItem(t){return e=>{e.preventDefault();const s=this.timer.current.state.time;this.checkFn(this.checkAnswer(t),s>0)}}checkAnswer(t,e){if(e===t)return!0}}var It=s(90),Nt=s.n(It);const Ft=(t,e,s=[])=>t.map(t=>{const n={};return n.id=Nt()(),n.content=e?t[e]:t,s.forEach(e=>n[e]=t[e]),n}),Dt=t=>t[Math.floor(Math.random()*t.length)];class Rt{constructor(){this.config=null,this.tasks=[this.getArithmeticTask.bind(this),this.getSequenceTask.bind(this),this.getEquationTask.bind(this),this.getComparisonTask.bind(this)]}async initialize(){const t=await window.fetch(ft.a);return this.config=await t.json(),this}getTask(t){const e=this.getRandom(0,this.tasks.length);return this.tasks[e](t)}getArithmeticTask(t){const e=this.getSample();return h.a.createElement(At,{title:"Посчитай:",checkAnswer:t,task:Ft([e.firstOperand,e.operation,e.secondOperand,"=",null]),time:4,expected:e.result})}getSequenceTask(t){const e=this.getRandom(1,this.config.maxValue/2),s=this.getRandom(1,this.config.maxValue/8),n=new Array(4).fill(e);n.forEach((t,e,n)=>{0!==e&&(n[e]=n[e-1]+s)}),this.getRandom(0,2)&&n.reverse();const[i]=n.splice(n.length-1);return h.a.createElement(At,{title:"Продолжи последовательность:",checkAnswer:t,task:Ft(n.concat(null)),time:4,expected:i})}getEquationTask(t){let e=this.getSample();e=[e.firstOperand,e.operation,e.secondOperand,"=",e.result];let s=null;return this.getRandom(0,2)?(s=e[0],e[0]=null):(s=e[2],e[2]=null),h.a.createElement(At,{title:"Впиши недостающее:",checkAnswer:t,task:Ft(e),time:4,expected:s})}getComparisonTask(t){const e=this.getRandom(0,this.config.maxValue),s=this.getRandom(0,this.config.maxValue);let n=null;return n=e>s?">":e<s?"<":"=",h.a.createElement(Ot,{title:"Сравни два числа:",info:`${e} ? ${s}`,checkAnswer:t,task:Ft(["<",">","="]),time:3,expected:n})}getSample(){const t={};let e=this.getRandom(0,this.tasks.length);return t.operation=this.config.operators[e],"+"===t.operation?this.setOperandsForSum(t):"*"===t.operation?this.setOperandsForMul(t):"-"===t.operation?this.setOperandsForSub(t):"/"===t.operation&&this.setOperandsForDiv(t),t}setOperandsForSum(t){for(t.firstOperand=this.getRandom(1,this.config.maxValue),t.secondOperand=this.getRandom(1,this.config.maxValue),t.result=t.firstOperand+t.secondOperand;t.result>this.config.maxResult;)this.reduceOperand(t),t.result=t.firstOperand+t.secondOperand}setOperandsForMul(t){for(t.firstOperand=this.getRandom(2,Math.sqrt(this.config.maxValue)),t.secondOperand=this.getRandom(2,Math.sqrt(this.config.maxValue)),t.result=t.firstOperand*t.secondOperand;t.result>this.config.maxResult;)this.reduceOperand(t),t.result=t.firstOperand*t.secondOperand}setOperandsForSub(t){t.firstOperand=this.getRandom(1,Math.sqrt(this.config.maxValue)),t.secondOperand=this.getRandom(1,Math.sqrt(this.config.maxValue)),t.firstOperand<t.secondOperand&&this.swapOperands(t),t.result=t.firstOperand-t.secondOperand}setOperandsForDiv(t){t.secondOperand=this.getRandom(2,Math.sqrt(this.config.maxValue)),t.firstOperand=t.secondOperand*this.getRandom(1,Math.sqrt(this.config.maxValue)),t.result=t.firstOperand/t.secondOperand}getRandom(t,e){return Math.floor(Math.random()*e)+t}reduceOperand(t){const e=t.firstOperand.toString(10),s=t.secondOperand.toString(10);t.firstOperand>t.secondOperand?t.firstOperand=parseInt(e.slice(0,e.length-2),10):t.secondOperand=parseInt(s.slice(0,s.length-2),10)}swapOperands(t){const e=t.firstOperand;t.firstOperand=t.secondOperand,t.secondOperand=e}}var Mt=s(89),Tt=s.n(Mt),jt=s(88),zt=s.n(jt),Lt=s(25),Bt=s(22),Pt=s.n(Bt),Vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t};class qt extends h.a.Component{constructor(t){super(t),this.state={items:t.items},this.container=null}static reorder(t,e,s){const n=Array.from(t),[i]=n.splice(e,1);return n.splice(s,0,i),n}render(){const{direction:t,title:e}=this.props;return h.a.createElement(Lt.c,{droppableId:this.props.droppableId,direction:this.props.direction},this.getContainer.bind(this,this.state.items,t,e))}getContainer(t,e,s,n){return h.a.createElement("div",{ref:t=>{this.container=t,n.innerRef(t)},className:`${Pt.a.droppable} ${Pt.a[e]} ${s?Pt.a.topPadding:""}`},h.a.createElement("h3",{className:s?Pt.a.title:yt.a.empty,title:s},s),this.getDragableItems(t,n))}getDragableItems(t,e){return t.map((t,e)=>h.a.createElement(Lt.b,{key:t.id,draggableId:t.id,index:e},e=>h.a.createElement("div",Vt({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:Pt.a.draggable}),t.content)))}}class Ht extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.answer=h.a.createRef(),this.timer=h.a.createRef(),this.onAnswer=this.onAnswer.bind(this),this.checkAnswer=this.checkAnswer.bind(this,t.expected)}render(){const{time:t,title:e,translate:s,word:n}=this.props;return h.a.createElement("div",{className:yt.a.task},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("p",{className:zt.a.sort},"(",s,")"),h.a.createElement(Lt.a,{onDragEnd:this.onDragEnd.bind(this)},h.a.createElement(qt,{droppableId:"droppable",ref:this.answer,direction:"gorizontal",items:n})),h.a.createElement("button",{onClick:this.onAnswer},"Ответить"))}componentDidMount(){this.answer=this.answer.current}onDragEnd(t){if(!t.destination)return;const e=qt.reorder(this.answer.state.items,t.source.index,t.destination.index);this.answer.setState({items:e})}onAnswer(){const t=this.timer.current.state.time;this.checkFn(this.checkAnswer(this.answer.container),t>0)}checkAnswer(t,e){if(e.textContent===t)return!0}}var Wt=s(32),Ut=s.n(Wt);class $t extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.answer=h.a.createRef(),this.timer=h.a.createRef(),this.onAnswer=this.onAnswer.bind(this),this.checkAnswer=this.checkAnswer.bind(this,t.expected),this.speak=this.speak.bind(this),this.speech=t.speech}render(){const{time:t,title:e,info:s,img:n,direction:i}=this.props;return h.a.createElement("form",{className:yt.a.task},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("p",{className:s?yt.a.info:yt.a.empty},s),h.a.createElement("div",{className:Ut.a[i||""]},h.a.createElement("img",{src:n,className:n?Ut.a.image:yt.a.empty}),h.a.createElement("input",{type:"text",ref:this.answer,required:"true"}),h.a.createElement("div",{onClick:this.speak,className:this.speech?Ut.a.repeat:yt.a.empty,title:"Повторить"})),h.a.createElement("button",{onClick:this.onAnswer},"Ответить"))}componentDidMount(){this.answer=this.answer.current,this.answer.focus(),this.speech&&this.speak()}speak(t){window.speechSynthesis.speak(this.speech),this.answer.focus()}onAnswer(t){if(this.answer.value=this.answer.value.trim(),!this.answer.validity.valid)return;t.preventDefault();const e=this.timer.current.state.time;this.checkFn(this.checkAnswer(this.answer.value),e>0)}checkAnswer(t=[],e){if(-1!==t.indexOf(e.toLowerCase()))return!0}}class Xt{constructor(){this.vocabulary=null,this.tasks=[this.getAudioTask.bind(this),this.getSortTask.bind(this),this.getTranslateTask.bind(this),this.getVisualTask.bind(this)]}async initialize(){const t=await window.fetch(Tt.a);return this.vocabulary=await t.json(),this}getTask(t){return Dt(this.tasks)(t)}getSortTask(t){const e=Dt(this.vocabulary),s=e.word.split("");return s.sort(()=>Math.random()-.5),h.a.createElement(Ht,{title:"Восстанови порядок букв:",checkAnswer:t,word:Ft(s),time:5,translate:e.translation[0],expected:e.word})}getAudioTask(t){const e=Dt(this.vocabulary).word,s=new SpeechSynthesisUtterance(e);return s.rate=.7,s.volume=1,s.lang="en-UK",h.a.createElement($t,{title:"Впиши произнесенное слово:",info:"(на английском)",checkAnswer:t,speech:s,time:7,expected:e,direction:"gorizontal"})}getTranslateTask(t){const e=Dt(this.vocabulary);return h.a.createElement($t,{title:"Переведи слово:",checkAnswer:t,time:7,info:e.word,expected:e.translation})}getVisualTask(t){const e=s(125),n=Dt(this.vocabulary.filter(t=>t.img)),i=e(`./${n.img}`);return h.a.createElement($t,{title:"Что изображено на картинке?",info:"(напиши на английском)",checkAnswer:t,time:7,img:i,expected:[n.word],direction:"vertical"})}}var Yt=s(86),Gt=s.n(Yt),Jt=s(85),Qt=s.n(Jt);class Kt extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.timer=h.a.createRef(),this.checkAnswer=this.checkAnswer.bind(this,t.expected)}render(){const{time:t,title:e,word:s}=this.props;return h.a.createElement("form",{className:yt.a.task},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("div",{className:Qt.a.letterChooser},s.map((t,e)=>h.a.createElement("span",{onClick:this.onChooseLetter(e),key:t.id},t.content))))}onChooseLetter(t){return e=>{e.preventDefault();const s=this.timer.current.state.time;this.checkFn(this.checkAnswer(t),s>0)}}checkAnswer(t,e){if(parseInt(e,10)===t)return!0}}class Zt{constructor(){this.vocabulary=null,this.tasks=[this.getExeptionTask.bind(this),this.getMistakeTask.bind(this),this.getPluralTask.bind(this)]}async initialize(){const t=await window.fetch(Gt.a);return this.vocabulary=await t.json(),this}getTask(t){return Dt(this.tasks)(t)}getExeptionTask(t){const e=Dt(this.vocabulary.kinds),s=this.vocabulary.words.filter(t=>t.kind===e).map(t=>t.word).sort(()=>Math.random()-.5).splice(0,3),n=Dt(this.vocabulary.words.filter(t=>t.kind!==e)).word;return s.push(n),s.sort(()=>Math.random()-.5),h.a.createElement(Ot,{title:"Найди лишнее:",checkAnswer:t,task:Ft(s),time:5,expected:n})}getMistakeTask(t){const{word:e,result:s}=this.getWordWithMistake(this.vocabulary.words,this.vocabulary.mistakes);return h.a.createElement(Kt,{title:"Найди ошибку:",checkAnswer:t,word:Ft(e.split("")),time:5,expected:s})}getPluralTask(t){const{word:e,result:s}=this.getWordToPlural(this.vocabulary.words);return h.a.createElement($t,{title:"Образуй множественное число:",checkAnswer:t,info:e,time:6,expected:[s]})}getWordWithMistake(t,e){const s=Dt(t);let n=s.word;for(let t=0;t<e.length;t++){let i=n.indexOf(e[t][0]);if(-1!==i&&i!==s.accent&&i!==n.length-1)return{word:n=n.replace(e[t][0],e[t][1]),result:i};if(-1!==(i=n.indexOf(e[t][1]))&&i!==s.accent&&i!==n.length-1)return{word:n=n.replace(e[t][1],e[t][0]),result:i}}return this.getWordWithMistake(t,e)}getWordToPlural(t){const e=Dt(t);return e.plural?{word:e.word,result:e.plural}:this.getWordToPlural(t)}}var te=s(21),ee=s.n(te);class se extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.timer=h.a.createRef(),this.groups={initial:h.a.createRef(),custom:new Array(t.elements.length).fill(h.a.createRef).map((e,s)=>({ref:e(),name:t.elements[s]}))},this.onDragEnd=this.onDragEnd.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onAnswer=this.onAnswer.bind(this),this.checkAnswer=this.checkAnswer.bind(this,t.criterion),this.maxItemsLength=t.maxLength||t.items.length}render(){const{time:t,title:e,items:s}=this.props,n=this.getContainers(this.groups.custom),i=n.splice(0,n.length/2);return h.a.createElement("form",{className:`${yt.a.task} ${ee.a.correlate}`},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("div",{className:ee.a.container},h.a.createElement(Lt.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},h.a.createElement("div",{className:ee.a.targetContainer},i),h.a.createElement(qt,{droppableId:"initial",direction:"vertical",ref:this.groups.initial,items:s}),h.a.createElement("div",{className:ee.a.targetContainer},n))),h.a.createElement("button",{onClick:this.onAnswer},"Ответить"))}getContainers(t){return t.map(t=>h.a.createElement(qt,{droppableId:t.name,ref:t.ref,direction:"vertical",title:t.name,items:[],key:t.name}))}componentDidMount(){this.groups.initial=this.groups.initial.current,this.groups.custom.forEach(t=>t.ref=t.ref.current)}move(t,e,s,n){const i=Array.from(t),a=Array.from(e),[r]=i.splice(s.index,1),[o]="initial"!==n.droppableId&&e.length>=this.maxItemsLength?a.splice(0,1):[void 0];a.splice(n.index,0,r),o&&i.splice(n.index,0,o);const c={};return c[s.droppableId]=i,c[n.droppableId]=a,c}onDragStart(){this.toggleActiveStyle()}onDragEnd(t){const{source:e,destination:s}=t;if(this.toggleActiveStyle(),s)if(e.droppableId===s.droppableId){const t=qt.reorder(this.getItem(e.droppableId).state.items,e.index,s.index);this.getItem(e.droppableId).setState({items:t})}else{const t=this.move(this.getItem(e.droppableId).state.items,this.getItem(s.droppableId).state.items,e,s);this.getItem(e.droppableId).setState({items:t[e.droppableId]}),this.getItem(s.droppableId).setState({items:t[s.droppableId]})}}toggleActiveStyle(){this.groups.custom.forEach(t=>{this.getItem(t.name).state.items.length<this.maxItemsLength&&t.ref.container.classList.toggle(ee.a.targetDroppable)})}getItem(t){return"initial"===t?this.groups.initial:this.groups.custom.find(e=>e.name===t).ref}onAnswer(t){if(this.getItem("initial").state.items.length>0)return void t.target.setCustomValidity("Нужно использовать все элементы!");t.preventDefault();const e=this.timer.current.state.time;this.checkFn(this.checkAnswer(this.groups.custom),e>0)}checkAnswer(t,e){for(let s of e)if(!s.ref.state.items.every(e=>e[t]===s.name))return;return!0}}var ne=s(84),ie=s.n(ne);class ae extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.timer=h.a.createRef(),this.onAnswer=this.onAnswer.bind(this),this.checkAnswer=this.checkAnswer(t.criterion,t.expected),this.checkedItems=[],this.uncheckedItems=t.items}render(){const{time:t,title:e,info:s}=this.props;return h.a.createElement("form",{className:yt.a.task},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("p",{className:s?yt.a.info:yt.a.empty},s),h.a.createElement("div",{className:ie.a.itemChecker},this.props.items.map(t=>h.a.createElement("label",{key:t.id,title:t.content},h.a.createElement("input",{type:"checkbox",onChange:this.toggleItem(t)}),t.content))),h.a.createElement("button",{onClick:this.onAnswer},"Ответить"))}toggleItem(t){return()=>{const e=this.checkedItems.indexOf(t),s=this.uncheckedItems.indexOf(t);-1===e?(this.checkedItems.push(t),this.uncheckedItems.splice(s,1)):(this.uncheckedItems.push(t),this.checkedItems.splice(s,1))}}onAnswer(t){t.preventDefault();const e=this.timer.current.state.time;this.checkFn(this.checkAnswer(this.checkedItems,this.uncheckedItems),e>0)}checkAnswer(t,e){return(s,n)=>{for(let n of s)if(n[t]!==e)return;for(let s of n)if(s[t]===e)return;return!0}}}var re=s(83),oe=s.n(re);class ce extends h.a.Component{constructor(t){super(t),this.checkFn=t.checkAnswer,this.answer=h.a.createRef(),this.timer=h.a.createRef(),this.onAnswer=this.onAnswer.bind(this),this.checkAnswer=this.checkAnswer.bind(this,t.criterion,t.ask)}render(){const{time:t,title:e,info:s,items:n}=this.props;return h.a.createElement("div",{className:`${yt.a.task} ${oe.a.itemSort}`},h.a.createElement(_t,{ref:this.timer,initialValue:t}),h.a.createElement("h2",null,e),h.a.createElement("p",{className:s?yt.a.info:yt.a.empty},s),h.a.createElement(Lt.a,{onDragEnd:this.onDragEnd.bind(this)},h.a.createElement(qt,{droppableId:"droppable",ref:this.answer,direction:"vertical",items:n})),h.a.createElement("button",{onClick:this.onAnswer},"Ответить"))}componentDidMount(){this.answer=this.answer.current}onDragEnd(t){if(!t.destination)return;const e=qt.reorder(this.answer.state.items,t.source.index,t.destination.index);this.answer.setState({items:e})}onAnswer(){const t=this.timer.current.state.time;this.checkFn(this.checkAnswer(this.answer.state.items),t>0)}checkAnswer(t,e,s){return e||(s=s.reverse()),s.every((e,s,n)=>0===s||e[t]>n[s-1][t])}}var he=s(82),le=s.n(he),de=s(81),me=s.n(de),ue=s(80),pe=s.n(ue),ge=s(79),we=s.n(ge),fe=s(78),ke=s.n(fe);class xe{constructor(){this.animals=null,this.quiz=null,this.sort=null,this.tasks=[this.getAnimalSortTask.bind(this),this.getQuizTask.bind(this),this.getCountriesTask.bind(this),this.getStatementsTask.bind(this),this.getOrderTask.bind(this)]}async initialize(){const t=await window.fetch(le.a);this.animals=await t.json();const e=await window.fetch(me.a);this.quiz=await e.json();const s=await window.fetch(pe.a);this.countries=await s.json();const n=await window.fetch(ke.a);this.sort=await n.json();const i=await window.fetch(we.a);return this.statements=await i.json(),this}getTask(t){return Dt(this.tasks)(t)}getAnimalSortTask(t){const e=Dt(this.animals.criterions),s=Array.from(e.variants).sort(()=>Math.random()-.5).splice(0,2),n=this.animals.animals.filter(t=>t.typeOfFood===s[0]||t.typeOfFood===s[1]).sort(()=>Math.random()-.5).splice(0,6);return h.a.createElement(se,{title:"Раздели животных по группам:",items:Ft(n,"name",[e.title]),time:10,criterion:e.title,elements:s,checkAnswer:t})}getQuizTask(t){const e=Dt(this.quiz),s=e.answers.slice(),n=s[e.rightAnswer];return s.sort(()=>Math.random()-.5),h.a.createElement(Ot,{title:"Выбери правильный ответ:",info:e.title,checkAnswer:t,task:Ft(s),time:7,expected:n})}getCountriesTask(t){const e=Array.from(this.countries).sort(()=>Math.random()-.5).splice(0,4),s=e.map(t=>t.country);return h.a.createElement(se,{title:"Соедени страны и их столицы:",items:Ft(e,"capital",["country"]),time:10,elements:s,checkAnswer:t,criterion:"country",maxLength:1})}getStatementsTask(t){const e=Array.from(this.statements).sort(()=>Math.random()-.5).splice(0,4),s=Dt([!0,!1]);return h.a.createElement(ae,{title:`Выбери все ${s?"верные":"неверные"} утверждения:`,items:Ft(e,"statement",["right"]),time:8,checkAnswer:t,criterion:"right",expected:s})}getOrderTask(t){const e=Dt(this.sort),s=Dt([!0,!1]),n=e.items.map((t,e)=>({name:t,order:e})).sort(()=>Math.random()-.5);return h.a.createElement(ce,{title:`${e.title} ${s?e.onAsk:e.onDesk}`,items:Ft(n,"name",["order"]),time:12,checkAnswer:t,criterion:"order",ask:s,info:"(сверху вниз)"})}}class _e{constructor(){this.tasks=[],this.resolveFn=null,this.rejectFn=null,this.container=null,this.checkAnswer=this.checkAnswer.bind(this)}async initialize(){this.tasks.push(await(new Rt).initialize()),this.tasks.push(await(new Xt).initialize()),this.tasks.push(await(new Zt).initialize()),this.tasks.push(await(new xe).initialize()),this.container=document.querySelector("#container")}nextTask(){return d.a.render(Dt(this.tasks).getTask(this.checkAnswer),this.container),new Promise((t,e)=>{this.resolveFn=t,this.rejectFn=e})}checkAnswer(t,e){t?this.resolveFn(e):this.rejectFn(),d.a.unmountComponentAtNode(this.container)}}(new class{constructor(){this.game=new n,this.view=new N,this.task=new _e,this.player=new U,this.monster=new st,this.spell=new gt,this.animation=null}initialize(){this.prepareListeners(),this.view.initialize(),this.game.leaderboard=this.getLeaderboard(),this.view.showWelcome(!0),this.view.initSpellsDialog(this.spell.getWizardSpells())}prepareListeners(){this.view.onClickStartButton=this.onClickStartButton.bind(this),this.view.onClickMusicButton=this.onClickMusicButton.bind(this),this.view.onClickSoundButton=this.onClickSoundButton.bind(this),this.view.onClickNewGameButton=this.onClickNewGameButton.bind(this)}getLeaderboard(){return localStorage.leaderbord?JSON.parse(localStorage.leaderbord):[]}onClickStartButton(t){this.view.showWelcome(!1),this.start(t)}onClickMusicButton(){this.game.musicIsPlaying=!this.game.musicIsPlaying,this.view.switchMusic(this.game.musicIsPlaying)}onClickSoundButton(){this.game.soundIsMuted=!this.game.soundIsMuted,this.view.switchSound(this.game.soundIsMuted),this.game.isStarted&&this.switchEntitiesSound(this.game.soundIsMuted)}onClickNewGameButton(){this.view.showLeaderboard(!1),this.start(this.player.getName())}switchEntitiesSound(t){this.player.mute(t),this.monster.mute(t),this.spell.mute(t)}async start(t){this.game.currentRound=1,this.view.drawInfoBar(this.game.currentRound),await this.initializeComponents(t),this.game.isStarted=!0,this.animation=setInterval(requestAnimationFrame.bind(null,this.animationLoop.bind(this)),100),this.gameLoop()}async initializeComponents(t){await this.task.initialize(),await this.player.initialize(t),await this.monster.initialize(),await this.spell.initialize(),this.switchEntitiesSound(this.game.soundIsMuted)}animationLoop(){this.view.clearContext(),this.player.nextStep(),this.monster.nextStep(),this.spell.nextStep()}async gameLoop(){for(;;)try{await this.roundLoop(),await this.nextRound()}catch(t){break}this.finishGame()}async roundLoop(){for(;;){const t=await this.view.showSpellsDialog();let e=!1;try{if(e=await this.task.nextTask(),await this.onPlayerAnswer(!0,e),await this.playerPart(t))break}catch(t){await this.onPlayerAnswer(!1)}if(!e&&await this.monsterPart())throw new Error("Player is dead")}}async playerPart(t){await this.player.attack(t);const e=await this.spell.throwSpell("wizardSpell",t);if(await this.monster.hurt(e))return!0}async monsterPart(){await this.monster.attack();const t=await this.spell.throwSpell("monsterSpell",0);if(await this.player.hurt(t))return!0}onPlayerAnswer(...t){return this.view.showAnswerResult(!0,t),new Promise(t=>{setTimeout(()=>{this.view.showAnswerResult(!1),t()},1500)})}nextRound(){this.game.currentRound+=1,this.view.drawInfoBar(this.game.currentRound),this.monster.generateNextMonster(),this.player.nextRound();const t={enemyName:this.monster.getName(),clickHandler:null},e=new Promise(e=>t.clickHandler=(()=>{this.view.showNextRound(!1),e()}));return this.view.showNextRound(!0,t),e}finishGame(){clearInterval(this.animation),this.game.saveScore(this.player.getName()),localStorage.leaderbord=JSON.stringify(this.game.leaderboard),this.view.showLeaderboard(!0,this.player.getName(),this.game.currentRound-1,this.game.leaderboard)}}).initialize()},,,,,function(t,e,s){t.exports=s.p+"images/pineapple.jpg"},function(t,e,s){t.exports=s.p+"images/pear.jpg"},function(t,e,s){t.exports=s.p+"images/orange.jpg"},function(t,e,s){t.exports=s.p+"images/lemon.jpg"},function(t,e,s){t.exports=s.p+"images/banana.jpg"},function(t,e,s){t.exports=s.p+"images/apple.jpg"},function(t,e,s){var n={"./apple.jpg":124,"./banana.jpg":123,"./lemon.jpg":122,"./orange.jpg":121,"./pear.jpg":120,"./pineapple.jpg":119};function i(t){var e=a(t);return s(e)}function a(t){var e=n[t];if(!(e+1)){var s=new Error('Cannot find module "'+t+'".');throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=125},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){t.exports=s.p+"images/legs_5.png"},function(t,e,s){t.exports=s.p+"images/legs_4.png"},function(t,e,s){t.exports=s.p+"images/legs_3.png"},function(t,e,s){t.exports=s.p+"images/legs_2.png"},function(t,e,s){t.exports=s.p+"images/legs_1.png"},function(t,e,s){t.exports=s.p+"images/legs_0.png"},function(t,e,s){var n={"./legs_0.png":187,"./legs_1.png":186,"./legs_2.png":185,"./legs_3.png":184,"./legs_4.png":183,"./legs_5.png":182};function i(t){var e=a(t);return s(e)}function a(t){var e=n[t];if(!(e+1)){var s=new Error('Cannot find module "'+t+'".');throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=188},function(t,e,s){t.exports=s.p+"images/arms_5.png"},function(t,e,s){t.exports=s.p+"images/arms_4.png"},function(t,e,s){t.exports=s.p+"images/arms_3.png"},function(t,e,s){t.exports=s.p+"images/arms_2.png"},function(t,e,s){t.exports=s.p+"images/arms_1.png"},function(t,e,s){t.exports=s.p+"images/arms_0.png"},function(t,e,s){var n={"./arms_0.png":194,"./arms_1.png":193,"./arms_2.png":192,"./arms_3.png":191,"./arms_4.png":190,"./arms_5.png":189};function i(t){var e=a(t);return s(e)}function a(t){var e=n[t];if(!(e+1)){var s=new Error('Cannot find module "'+t+'".');throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=195},function(t,e,s){t.exports=s.p+"images/body_5.png"},function(t,e,s){t.exports=s.p+"images/body_4.png"},function(t,e,s){t.exports=s.p+"images/body_3.png"},function(t,e,s){t.exports=s.p+"images/body_2.png"},function(t,e,s){t.exports=s.p+"images/body_1.png"},function(t,e,s){t.exports=s.p+"images/body_0.png"},function(t,e,s){var n={"./body_0.png":201,"./body_1.png":200,"./body_2.png":199,"./body_3.png":198,"./body_4.png":197,"./body_5.png":196};function i(t){var e=a(t);return s(e)}function a(t){var e=n[t];if(!(e+1)){var s=new Error('Cannot find module "'+t+'".');throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=202},function(t,e,s){t.exports=s.p+"images/head_5.png"},function(t,e,s){t.exports=s.p+"images/head_4.png"},function(t,e,s){t.exports=s.p+"images/head_3.png"},function(t,e,s){t.exports=s.p+"images/head_2.png"},function(t,e,s){t.exports=s.p+"images/head_1.png"},function(t,e,s){t.exports=s.p+"images/head_0.png"},function(t,e,s){var n={"./head_0.png":208,"./head_1.png":207,"./head_2.png":206,"./head_3.png":205,"./head_4.png":204,"./head_5.png":203};function i(t){var e=a(t);return s(e)}function a(t){var e=n[t];if(!(e+1)){var s=new Error('Cannot find module "'+t+'".');throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=209},function(t,e,s){t.exports=s.p+"audio/player_attack2.mp3"},function(t,e,s){t.exports=s.p+"audio/player_attack1.mp3"},function(t,e,s){t.exports=s.p+"audio/player_attack0.mp3"},function(t,e,s){var n={"./player_attack0.mp3":212,"./player_attack1.mp3":211,"./player_attack2.mp3":210};function i(t){var e=a(t);return s(e)}function a(t){var e=n[t];if(!(e+1)){var s=new Error('Cannot find module "'+t+'".');throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=213},,,,,,,,,,,,,,,,function(t,e,s){}]);